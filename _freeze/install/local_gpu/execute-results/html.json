{
  "hash": "cc7e282919662b98e521c369bdb3a183",
  "result": {
    "markdown": "---\ntitle: \"Local GPU\"\naliases:\n  - /installation_gpu.html\n  - /tensorflow/installation_gpu.html\n  - /tensorflow/articles/installation_gpu.html\n  - /tools/installation_gpu.html\n  - /tools/local_gpu\n  - /tools/local_gpu.html\neditor_options:\n  markdown:\n    wrap: sentence\n    canonical: true\n---\n\n\n\n\nThe default build of TensorFlow will use an NVIDIA® GPU if it is available and the appropriate drivers are installed, and otherwise fallback to using the CPU only.\n\nThe prerequisites for the GPU version of TensorFlow on each platform are covered below.\nNote that on all platforms (except macOS) you must be running an NVIDIA® GPU with CUDA® Compute Capability 3.5 or higher.\nSee the list of [CUDA-enabled GPU cards](https://developer.nvidia.com/cuda-gpus).\n\nTo enable TensorFlow to use a local NVIDIA® GPU, you can install the following:\n\n-   [CUDA 11.8](https://developer.nvidia.com/cuda-11.2.2-download-archive)\n-   [cuDNN 8.6](https://developer.nvidia.com/rdp/cudnn-archive)\n\nNote that the following instructions require the development version of the tensorflow R package installed:\n\n``` r\nremotes::install_github(\"rstudio/tensorflow\")\n```\n\n::: panel-tabset\n### Ubuntu 22.04\n\nTo install the required NVIDIA components on Ubuntu 22.04, you can run the following at the terminal:\n\n``` bash\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/cuda-keyring_1.0-1_all.deb\nsudo dpkg -i cuda-keyring_1.1-1_all.deb\nsudo apt-get update\nsudo apt-get -y install cuda-toolkit-11-8\n```\n\ncuDNN 8.6 is automatically installed by `install_tensorflow()` via pip if a GPU is detected.\n\n### Windows\n\nNote that Tensorflow 2.10 was the last version of TensorFlow to natively support GPUs on Windows.\nTo use a GPU on widows, it is recomended to run TensorFlow under WSL.\nSee [here](https://www.tensorflow.org/install/pip#windows-native) for details.\n\n### Other Linux\n\nThe specifics of installing required software differ by Linux version so please review the NVIDIA® documentation carefully to ensure you install everything correctly.\n\n-   [CUDA 11.8](https://developer.nvidia.com/cuda-11-8-0-download-archive)\n-   [cuDNN 8.6](https://developer.nvidia.com/rdp/cudnn-archive)\n\nNote that cuDNN 8.6 can easily be installed via `pip` now, and then can be found by TensorFlow if the `CUDNN_PATH` and `LD_LIBRARY_PATH` variables are set appropriately.\nNote that `install_tensorflow()` does this for you.\n\n### macOS\n\nBeginning with TensorFlow version 2.13, the 'tensorflow' pip package has native support for Arm Macs, including GPUs.\n\nMake sure that an x86_64 build of R is not running under Rosetta.\nYou can test if you have an Arm build of R like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nR.version$arch\n```\n:::\n\n\nIf this returns `\"aarch64\"`, you're using the correct build of R.\nIf instead it returns `\"x86_64\"`, then you need to install a different build of R.\nYou can install an Arm build of R by navigating to <https://cloud.r-project.org/bin/macosx/> and selecting the appropriate package (e.g., \"R-4.2.1-arm64.pkg\") or using an installation manager like [rig](https://github.com/r-lib/rig) and running `rig add release`.\nIf you have brew configured, then a command `brew install --cask r` at the terminal will install the correct version of R.\n\nYou can install Python for reticulate to use like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nreticulate::install_python()\n```\n:::\n\n\nAlternatively, you can download and install python from www.python.org/downloads.\n:::\n\n### Test\n\nYou can test if TensorFlow can use a local GPU by running the following:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tensorflow)\ntf$config$list_physical_devices(\"GPU\")\n```\n:::\n\n\nIf you see a list like this:\n\n``` text\n[[1]]\nPhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')\n```\n\nThen that means TensorFlow is configured properly.\nIf instead you see an empty `list()`, then TensorFlow is not using a GPU.\n\nFor support with installation, open a [Github issue](https://github.com/rstudio/tensorflow/issues/new?assignees=&labels=Installation&template=installation-issue.md&title=Installation+Issue)\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}